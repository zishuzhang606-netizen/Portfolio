<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ± å® ç‰©æ²»æ„ˆ - å®Œæ•´ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #FF69B4;
            --light-pink: #FFB6D9;
            --pale-pink: #FFE6F0;
            --white: #FFFFFF;
            --green: #4CAF50;
            --light-green: #C8F0D8;
            --dark-green: #2E7D32;
            --yellow: #FFD700;
            --orange: #FFA500;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --shadow-strong: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--pale-pink) 0%, #FFD6E8 100%);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            height: 100vh;
            max-width: 774px;
            position: relative;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, var(--pale-pink) 0%, #FFD6E8 100%);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            border-radius: 30px;
            overflow: hidden;
        }

        /* ========== é¡µé¢åŠ¨ç”» ========== */
        .screen {
            display: none;
            position: absolute;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            animation: slideIn 0.5s ease-out;
            top: 0;
            left: 0;
        }

        .screen.active {
            display: flex;
            flex-direction: column;
            z-index: 10;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(30px);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleUp {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            25% { transform: translateY(-15px); }
            50% { transform: translateY(0); }
            75% { transform: translateY(-8px); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes glow {
            0%, 100% { 
                box-shadow: 0 0 10px rgba(255, 105, 180, 0.3),
                           var(--shadow);
            }
            50% { 
                box-shadow: 0 0 30px rgba(255, 105, 180, 0.6),
                           var(--shadow-strong);
            }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
        }

        /* ========== æŒ‰é’®æ ·å¼ ========== */
        .btn {
            padding: 12px 40px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
            transition: left 0.5s ease;
            z-index: -1;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-primary {
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
            color: white;
            font-size: 18px;
            padding: 14px 50px;
            margin-top: 20px;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--green) 0%, var(--light-green) 100%);
            color: white;
            margin: 10px;
        }

        /* ========== 1. èµ·å§‹é¡µé¢ ========== */
        #startScreen {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 30px;
            gap: 30px;
        }

        .start-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            animation: fadeIn 0.8s ease-out;
        }

        .title-start {
            font-size: 48px;
            font-weight: 700;
            background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: scaleUp 0.8s ease-out;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .cat-intro {
            width: 200px;
            height: 200px;
            background: white;
            border-radius: 50%;
            border: 6px solid var(--green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
            box-shadow: var(--shadow-strong);
            animation: bounce 2s ease-in-out infinite;
        }

        .loading-bar {
            width: 200px;
            height: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 2px solid white;
        }

        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, #FF69B4, var(--primary-pink), #FFB6D9);
            background-size: 200% 100%;
            width: 0%;
            animation: loading 3s ease-out forwards, shimmer 2s ease-in-out infinite;
            border-radius: 10px;
        }

        @keyframes loading {
            0% { width: 0%; }
            80% { width: 95%; }
            100% { width: 100%; }
        }

        .loading-text {
            font-size: 14px;
            color: white;
            margin-top: 10px;
            font-weight: 600;
        }

        .subtitle {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.9);
            max-width: 300px;
            line-height: 1.6;
        }

        /* ========== 2. é¦–é¡µä¸»ç•Œé¢ ========== */
        #homeScreen {
            flex-direction: column;
            padding: 0;
        }

        .header {
            padding: 20px 30px;
            text-align: center;
            color: var(--primary-pink);
            font-size: 28px;
            font-weight: 700;
            animation: slideIn 0.6s ease-out;
        }

        .cat-status-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            gap: 15px;
        }

        .cat-display {
            width: 240px;
            height: 240px;
            background: white;
            border-radius: 50%;
            border: 8px solid var(--green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            box-shadow: var(--shadow-strong);
            animation: pulse 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .cat-display::after {
            content: 'âœ¨';
            position: absolute;
            font-size: 30px;
            animation: float 3s ease-in-out infinite;
            opacity: 0.5;
        }

        .status-bar {
            width: 100%;
            max-width: 280px;
            padding: 0 20px;
            animation: slideIn 0.7s ease-out;
        }

        .status-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            gap: 10px;
            animation: slideIn 0.8s ease-out backwards;
        }

        .status-item:nth-child(1) { animation-delay: 0.1s; }
        .status-item:nth-child(2) { animation-delay: 0.2s; }
        .status-item:nth-child(3) { animation-delay: 0.3s; }

        .status-label {
            font-size: 14px;
            color: #666;
            width: 60px;
            font-weight: 600;
        }

        .status-progress {
            flex: 1;
            height: 14px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid white;
        }

        .status-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-pink), var(--light-pink));
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }

        .status-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s ease-in-out infinite;
        }

        .quick-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .quick-btn {
            padding: 15px;
            border: none;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: var(--shadow);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            text-align: center;
            animation: scaleUp 0.6s ease-out backwards;
        }

        .quick-btn:nth-child(1) { animation-delay: 0.2s; }
        .quick-btn:nth-child(2) { animation-delay: 0.3s; }
        .quick-btn:nth-child(3) { animation-delay: 0.4s; }

        .quick-btn-icon {
            font-size: 32px;
            transition: transform 0.3s ease;
        }

        .quick-btn:hover .quick-btn-icon {
            transform: scale(1.2) rotate(10deg);
        }

        .quick-btn-feed {
            background: linear-gradient(135deg, #FFA500, #FFB347);
        }

        .quick-btn-play {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
        }

        .quick-btn-pet {
            background: linear-gradient(135deg, #FF69B4, #FFB6D9);
        }

        .quick-btn:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-strong);
        }

        .quick-btn:active {
            transform: translateY(-4px);
        }

        .nav-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 20px;
        }

        .nav-btn {
            padding: 15px 20px;
            border: 3px solid var(--green);
            border-radius: 20px;
            background: white;
            color: var(--green);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--green);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .nav-btn:hover::before {
            left: 0;
        }

        .nav-btn:hover {
            color: white;
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        /* ========== 3. æ—¥å¸¸äº’åŠ¨ç•Œé¢ ========== */
        #interactScreen {
            flex-direction: column;
            padding: 20px;
            gap: 20px;
        }

        .back-button {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-pink);
            box-shadow: var(--shadow);
            align-self: flex-start;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            transform: translateX(-5px);
            box-shadow: var(--shadow-strong);
        }

        .title-section {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-pink);
            text-align: center;
            margin: 10px 0;
            animation: scaleUp 0.6s ease-out;
        }

        .interact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .interact-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: var(--shadow);
            border: 3px solid transparent;
            animation: scaleUp 0.5s ease-out backwards;
        }

        .interact-card:nth-child(1) { animation-delay: 0.1s; }
        .interact-card:nth-child(2) { animation-delay: 0.15s; }
        .interact-card:nth-child(3) { animation-delay: 0.2s; }
        .interact-card:nth-child(4) { animation-delay: 0.25s; }
        .interact-card:nth-child(5) { animation-delay: 0.3s; }
        .interact-card:nth-child(6) { animation-delay: 0.35s; }

        .interact-card:hover {
            transform: translateY(-12px);
            box-shadow: var(--shadow-strong);
            border-color: var(--primary-pink);
        }

        .interact-icon {
            font-size: 50px;
            margin-bottom: 10px;
            transition: transform 0.3s ease;
        }

        .interact-card:hover .interact-icon {
            transform: scale(1.2) rotate(-15deg);
        }

        .interact-label {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        /* ========== 4. é£Ÿç‰©é€‰æ‹© ========== */
        .food-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .food-item {
            background: white;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: var(--shadow);
            border: 3px solid transparent;
        }

        .food-item:hover {
            transform: scale(1.08);
            box-shadow: var(--shadow-strong);
            border-color: #FFA500;
        }

        .food-icon {
            font-size: 50px;
            margin-bottom: 10px;
            transition: transform 0.3s ease;
        }

        .food-item:hover .food-icon {
            transform: scale(1.3) bounce;
            animation: bounce 0.6s ease-in-out;
        }

        .food-name {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .feed-button {
            width: 100%;
            margin-top: 20px;
            background: linear-gradient(135deg, #FFA500, #FFB347);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .feed-button:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-strong);
        }

        .feed-button:active {
            transform: translateY(-2px);
        }

        /* ========== 5. æ•…äº‹é¡µé¢ ========== */
        .story-container {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--shadow);
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow-y: auto;
            animation: slideIn 0.6s ease-out;
        }

        .story-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-pink);
            text-align: center;
            animation: scaleUp 0.6s ease-out;
        }

        .story-content {
            font-size: 15px;
            line-height: 1.8;
            color: #555;
            text-align: justify;
            flex: 1;
            animation: fadeIn 0.8s ease-out;
        }

        .story-emoji {
            font-size: 40px;
            text-align: center;
            margin: 10px 0;
            animation: float 3s ease-in-out infinite;
        }

        .read-more-btn {
            align-self: center;
            background: linear-gradient(135deg, var(--green), var(--light-green));
            color: white;
            padding: 10px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .read-more-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        .chapter-progress {
            text-align: center;
            font-size: 13px;
            color: #999;
            margin-top: 10px;
        }

        /* ========== 6. æ—¥è®°ç³»ç»Ÿ ========== */
        .diary-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex: 1;
            overflow-y: auto;
            padding-right: 5px;
        }

        .diary-entry {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary-pink);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            animation: slideIn 0.5s ease-out backwards;
        }

        .diary-entry:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-strong);
        }

        .diary-date {
            font-size: 12px;
            color: #999;
            font-weight: 600;
        }

        .diary-content {
            font-size: 14px;
            color: #333;
            margin-top: 5px;
            line-height: 1.6;
        }

        .diary-mood {
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
            color: var(--primary-pink);
            font-weight: 600;
        }

        .add-diary-btn {
            background: linear-gradient(135deg, var(--green), var(--light-green));
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            align-self: center;
            margin-top: 15px;
        }

        .add-diary-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        /* ========== 7. è®¾ç½®é¡µé¢ ========== */
        .setting-item {
            background: white;
            border-radius: 15px;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            animation: slideIn 0.5s ease-out backwards;
        }

        .setting-item:nth-child(2) { animation-delay: 0.1s; }
        .setting-item:nth-child(3) { animation-delay: 0.15s; }
        .setting-item:nth-child(4) { animation-delay: 0.2s; }
        .setting-item:nth-child(5) { animation-delay: 0.25s; }
        .setting-item:nth-child(6) { animation-delay: 0.3s; }

        .setting-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-strong);
        }

        .setting-label {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .setting-icon {
            font-size: 24px;
            transition: transform 0.3s ease;
        }

        .setting-item:hover .setting-icon {
            transform: scale(1.2) rotate(10deg);
        }

        .toggle-switch {
            width: 50px;
            height: 26px;
            background: #ccc;
            border-radius: 13px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .toggle-switch.active {
            background: var(--green);
            border-color: #1e5e20;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 1px;
            left: 1px;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .toggle-switch.active::after {
            left: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .select-dropdown {
            padding: 8px 15px;
            border: 2px solid var(--green);
            border-radius: 10px;
            cursor: pointer;
            background: white;
            color: var(--green);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .select-dropdown:hover {
            background: var(--light-green);
            color: #333;
            transform: translateY(-2px);
        }

        /* ========== äº’åŠ¨åé¦ˆé¡µé¢ ========== */
        .feedback-screen {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
            gap: 30px;
        }

        .feedback-title {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #FF1493, #FF69B4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: scaleUp 0.6s ease-out;
        }

        .feedback-emoji {
            font-size: 100px;
            animation: bounce 1s ease-in-out infinite;
        }

        .feedback-text {
            font-size: 18px;
            color: var(--primary-pink);
            font-weight: 600;
            animation: fadeIn 0.8s ease-out;
        }

        .value-increase {
            font-size: 24px;
            font-weight: 700;
            color: var(--green);
            animation: scaleUp 0.6s ease-out 0.3s both;
        }

        .arrow {
            font-size: 32px;
            animation: bounce 1s ease-in-out infinite;
            animation-delay: 0.1s;
        }

        .continue-btn {
            background: linear-gradient(135deg, var(--green), var(--light-green));
            color: white;
            padding: 12px 40px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            margin-top: 20px;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        /* ========== ç‰¹æ®Šåœºæ™¯åŠ¨ç”» ========== */
        #playScreen .cat-display {
            font-size: 80px;
            animation: bounce 0.6s ease-in-out infinite;
        }

        #petScreen .cat-display {
            font-size: 80px;
            animation: heartbeat 1.2s ease-in-out infinite;
        }

        /* ========== æ¨¡æ€æ¡† ========== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-out;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 300px;
            text-align: center;
            box-shadow: var(--shadow-strong);
            animation: scaleUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-pink);
            margin-bottom: 15px;
        }

        .modal-text {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .modal-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .modal-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .modal-btn-cancel {
            background: #E0E0E0;
            color: #333;
        }

        .modal-btn-cancel:hover {
            background: #D0D0D0;
            transform: translateY(-2px);
        }

        .modal-btn-confirm {
            background: var(--green);
            color: white;
        }

        .modal-btn-confirm:hover {
            background: #388E3C;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* ========== æ»šåŠ¨æ¡ç¾åŒ– ========== */
        .screen::-webkit-scrollbar {
            width: 6px;
        }

        .screen::-webkit-scrollbar-track {
            background: transparent;
        }

        .screen::-webkit-scrollbar-thumb {
            background: var(--primary-pink);
            border-radius: 3px;
        }

        .screen::-webkit-scrollbar-thumb:hover {
            background: #FF1493;
        }

        /* ========== ç²’å­æ•ˆæœ ========== */
        .particle {
            position: fixed;
            pointer-events: none;
        }

        .particle::before {
            content: 'âœ¨';
            font-size: 24px;
            animation: particle-float 2s ease-out forwards;
        }

        @keyframes particle-float {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(0);
                opacity: 0;
            }
        }

        /* ========== å“åº”å¼ ========== */
        @media (max-width: 600px) {
            .container {
                border-radius: 0;
                max-width: 100%;
            }

            .title-start {
                font-size: 36px;
            }

            .interact-grid {
                grid-template-columns: 1fr 1fr;
            }

            .quick-buttons {
                grid-template-columns: 1fr 1fr;
            }

            .food-options {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 1. èµ·å§‹é¡µé¢ -->
        <div class="screen active" id="startScreen">
            <div class="start-container">
                <div class="title-start">ğŸ± å® ç‰©æ²»æ„ˆ!</div>
                <div class="cat-intro">ğŸ˜¸</div>
                <div style="font-size: 16px; color: white; max-width: 300px;">
                    <div style="margin-bottom: 10px; font-weight: 600;">æ¬¢è¿æ¥åˆ°å® ç‰©æ²»æ„ˆä¸–ç•Œ!</div>
                    <div class="subtitle">ç…§é¡¾ä½ çš„è™šæ‹ŸçŒ«å’ªï¼Œè·å¾—å¹¸ç¦æ„Ÿå’Œæ²»æ„ˆ!</div>
                </div>
                <div style="width: 200px; margin: 20px 0;">
                    <div class="loading-bar">
                        <div class="loading-progress"></div>
                    </div>
                    <div class="loading-text">åŠ è½½ä¸­...</div>
                </div>
                <button class="btn btn-primary" onclick="goToScreen('homeScreen')">å¼€å§‹æ¸¸æˆ</button>
                <button class="btn btn-secondary" onclick="showTutorial()">æŸ¥çœ‹æ•™ç¨‹</button>
            </div>
        </div>

        <!-- 2. é¦–é¡µä¸»ç•Œé¢ -->
        <div class="screen" id="homeScreen">
            <div class="header">ğŸ± æˆ‘çš„çŒ«å’ª</div>
            
            <div class="cat-status-container">
                <div class="cat-display">ğŸ˜¸</div>
                
                <div class="status-bar">
                    <div class="status-item">
                        <span class="status-label">â¤ï¸ å¹¸ç¦æ„Ÿ</span>
                        <div class="status-progress">
                            <div class="status-fill" id="happinessBar" style="width: 70%;"></div>
                        </div>
                        <span style="font-size: 12px; color: var(--primary-pink); font-weight: 600;">70%</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">ğŸŸ é¥±è…¹æ„Ÿ</span>
                        <div class="status-progress">
                            <div class="status-fill" id="hungerBar" style="width: 50%; background: linear-gradient(90deg, #FFB347, #FFA500);"></div>
                        </div>
                        <span style="font-size: 12px; color: #FFA500; font-weight: 600;">50%</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">ğŸ§¹ æ´å‡€åº¦</span>
                        <div class="status-progress">
                            <div class="status-fill" id="cleanBar" style="width: 85%; background: linear-gradient(90deg, #4CAF50, #8BC34A);"></div>
                        </div>
                        <span style="font-size: 12px; color: var(--green); font-weight: 600;">85%</span>
                    </div>
                </div>
            </div>

            <div class="quick-buttons">
                <button class="quick-btn quick-btn-feed" onclick="goToScreen('feedDetailScreen')">
                    <div class="quick-btn-icon">ğŸŸ</div>
                    <span>å–‚é£Ÿ</span>
                </button>
                <button class="quick-btn quick-btn-play" onclick="goToScreen('playScreen')">
                    <div class="quick-btn-icon">ğŸ¾</div>
                    <span>ç©è€</span>
                </button>
                <button class="quick-btn quick-btn-pet" onclick="goToScreen('petScreen')">
                    <div class="quick-btn-icon">ğŸ‘‹</div>
                    <span>æŠšæ‘¸</span>
                </button>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" onclick="goToScreen('interactScreen')">ğŸ“± æ—¥å¸¸äº’åŠ¨</button>
                <button class="nav-btn" onclick="goToScreen('storyScreen')">ğŸ“– æ²»æ„ˆæ•…äº‹</button>
                <button class="nav-btn" onclick="goToScreen('diaryScreen')">ğŸ“ æ—¥è®°ç³»ç»Ÿ</button>
                <button class="nav-btn settings" onclick="goToScreen('settingsScreen')">âš™ï¸ è®¾ç½®</button>
            </div>
        </div>

        <!-- 3. æ—¥å¸¸äº’åŠ¨ç•Œé¢ -->
        <div class="screen" id="interactScreen">
            <button class="back-button" onclick="goToScreen('homeScreen')">â† è¿”å›é¦–é¡µ</button>
            
            <div class="title-section">æ—¥å¸¸äº’åŠ¨</div>
            
            <div class="interact-grid">
                <div class="interact-card" onclick="goToScreen('feedDetailScreen')">
                    <div class="interact-icon">ğŸ½ï¸</div>
                    <div class="interact-label">å–‚é£Ÿ</div>
                </div>
                <div class="interact-card" onclick="goToScreen('playScreen')">
                    <div class="interact-icon">ğŸ®</div>
                    <div class="interact-label">ç©è€</div>
                </div>
                <div class="interact-card" onclick="goToScreen('petScreen')">
                    <div class="interact-icon">ğŸ¤š</div>
                    <div class="interact-label">æŠšæ‘¸</div>
                </div>
                <div class="interact-card" onclick="showFeedback('æ´—æ¾¡', 'ğŸ›', 'æ´å‡€åº¦', '+15')">
                    <div class="interact-icon">ğŸ›</div>
                    <div class="interact-label">æ´—æ¾¡</div>
                </div>
                <div class="interact-card" onclick="showFeedback('ç¡çœ ', 'ğŸ˜´', 'èƒ½é‡', '+20')">
                    <div class="interact-icon">ğŸ˜´</div>
                    <div class="interact-label">ç¡çœ </div>
                </div>
                <div class="interact-card" onclick="showFeedback('æ²»ç–—', 'ğŸ’Š', 'å¹¸ç¦æ„Ÿ', '+25')">
                    <div class="interact-icon">ğŸ’Š</div>
                    <div class="interact-label">æ²»ç–—</div>
                </div>
            </div>
        </div>

        <!-- 4. è¯¦ç»†æ“ä½œç•Œé¢ - å–‚é£Ÿ -->
        <div class="screen" id="feedDetailScreen">
            <button class="back-button" onclick="goToScreen('homeScreen')">â† è¿”å›é¦–é¡µ</button>
            
            <div class="title-section">é€‰æ‹©é£Ÿç‰©</div>
            
            <div class="food-options">
                <div class="food-item" onclick="selectFood('é±¼ç‰‡', 'ğŸŸ')">
                    <div class="food-icon">ğŸŸ</div>
                    <div class="food-name">é±¼ç‰‡</div>
                    <div style="font-size: 12px; color: #999;">+30 é¥±è…¹æ„Ÿ</div>
                </div>
                <div class="food-item" onclick="selectFood('é¸¡è‚‰', 'ğŸ—')">
                    <div class="food-icon">ğŸ—</div>
                    <div class="food-name">é¸¡è‚‰</div>
                    <div style="font-size: 12px; color: #999;">+25 é¥±è…¹æ„Ÿ</div>
                </div>
                <div class="food-item" onclick="selectFood('ç‰›å¥¶', 'ğŸ¥›')">
                    <div class="food-icon">ğŸ¥›</div>
                    <div class="food-name">ç‰›å¥¶</div>
                    <div style="font-size: 12px; color: #999;">+20 å¹¸ç¦æ„Ÿ</div>
                </div>
                <div class="food-item" onclick="selectFood('é›¶é£Ÿ', 'ğŸ–')">
                    <div class="food-icon">ğŸ–</div>
                    <div class="food-name">é›¶é£Ÿ</div>
                    <div style="font-size: 12px; color: #999;">+15 å¹¸ç¦æ„Ÿ</div>
                </div>
            </div>

            <button class="feed-button" id="feedBtn" onclick="executeFeed()" style="display:none;">ğŸ½ï¸ æŠ•å–‚</button>
        </div>

        <!-- 5. æ²»æ„ˆæ•…äº‹é¡µé¢ -->
        <div class="screen" id="storyScreen">
            <button class="back-button" onclick="goToScreen('homeScreen')">â† è¿”å›é¦–é¡µ</button>
            
            <div class="title-section">æ²»æ„ˆæ•…äº‹</div>
            
            <div class="story-container">
                <div class="story-title">ğŸ˜» å’ªå’ªçš„å¿«ä¹æ—¥å¸¸</div>
                <div class="story-emoji">ğŸ± â¤ï¸ ğŸŒˆ</div>
                <div class="story-content">
                    å’ªå’ªæ¯å¤©éƒ½è¿‡å¾—å¾ˆå¿«ä¹ã€‚æ¸…æ™¨çš„ç¬¬ä¸€ç¼•é˜³å…‰ç…§è¿›æˆ¿é—´ï¼Œå®ƒå°±ä¼šç”¨å°çˆªå­è½»è½»æ‹¨é†’ä¸»äººï¼Œç„¶åäº«å—ä¸€é¡¿ç¾å‘³çš„æ—©é¤ã€‚<br><br>
                    ç™½å¤©ï¼Œå’ªå’ªå–œæ¬¢åœ¨é˜³å°ä¸Šæ™’å¤ªé˜³ï¼Œæˆ–è€…è¿½é€ç€ç©å…·çƒè·‘æ¥è·‘å»ï¼Œæ¯ä¸€ä¸ªåŠ¨ä½œéƒ½å……æ»¡äº†æ´»åŠ›å’Œå¹¸ç¦ã€‚å®ƒçš„çœ¼ç›é—ªé—ªå‘å…‰ï¼Œå°¾å·´æ‘‡æ‘‡æ‘†æ‘†ï¼Œç”¨æœ€çº¯çœŸçš„æ–¹å¼è¯ é‡Šä»€ä¹ˆæ˜¯å¿«ä¹ã€‚<br><br>
                    å½“ä¸»äººå¼€å§‹å·¥ä½œæ—¶ï¼Œå’ªå’ªä¼šè·³ä¸Šé”®ç›˜ï¼Œè¸©è¸ç€é”®ç›˜é”®ï¼Œä¼¼ä¹åœ¨è¯´ï¼š"å·¥ä½œå†é‡è¦ï¼Œä¹Ÿä¸å¦‚æˆ‘ä»¬ä¸€èµ·ç©è€é‡è¦ã€‚"é‚£ä¸€åˆ»ï¼Œå†å¤šçš„çƒ¦æ¼éƒ½æ¶ˆæ•£äº†ã€‚<br><br>
                    æ™šä¸Šï¼Œå½“ä¸»äººæ‚‰å®Œä¸€å¤©çš„åŠ³ç´¯ï¼Œå’ªå’ªä¼šä¾ååœ¨ä¸»äººæ€€é‡Œï¼Œå‘å‡ºèˆ’æœçš„å‘¼å™œå£°ã€‚è¿™æ˜¯å’ªå’ªæœ€å¹¸ç¦çš„æ—¶åˆ»ï¼Œä¹Ÿæ˜¯ä¸»äººæœ€æ²»æ„ˆçš„æ—¶åˆ»ã€‚<br><br>
                    åœ¨çˆ±çš„é™ªä¼´ä¸‹ï¼Œå’ªå’ªçš„æ¯ä¸€å¤©éƒ½å……æ»¡äº†æ²»æ„ˆå’Œæ¸©æš–ã€‚æ¯ä¸€ä¸ªç¬é—´éƒ½æ˜¯çè´µçš„å›å¿†ã€‚
                </div>
                <button class="read-more-btn" onclick="alert('æ›´å¤šç²¾å½©æ•…äº‹æ•¬è¯·æœŸå¾…... ğŸ“–âœ¨')">é˜…è¯»æ›´å¤š</button>
                <div class="chapter-progress">ç¬¬1ç«  / å…±5ç« </div>
            </div>
        </div>

        <!-- 6. æ—¥è®°ç³»ç»Ÿé¡µé¢ -->
        <div class="screen" id="diaryScreen">
            <button class="back-button" onclick="goToScreen('homeScreen')">â† è¿”å›é¦–é¡µ</button>
            
            <div class="title-section">æˆ‘çš„æ—¥è®°</div>
            
            <div class="diary-container">
                <div class="diary-entry">
                    <div class="diary-date">2024-10-26</div>
                    <div class="diary-content">ä»Šå¤©å–‚äº†çŒ«å’ªï¼Œå®ƒå¼€å¿ƒåœ°åƒäº†ä¸€é¡¿å¤§é¤ï¼Œå¹¸ç¦æ„ŸæŒ‡æ•°ç›´çº¿ä¸Šå‡!</div>
                    <div class="diary-mood">ğŸ˜Š å¿ƒæƒ…ä¸é”™</div>
                </div>
                <div class="diary-entry">
                    <div class="diary-date">2024-10-25</div>
                    <div class="diary-content">å’ŒçŒ«å’ªç©äº†æ¯›çº¿çƒï¼Œçœ‹ç€å®ƒè¹¦è¹¦è·³è·³çš„æ ·å­ï¼Œæˆ‘çš„å¿ƒéƒ½èåŒ–äº†ã€‚</div>
                    <div class="diary-mood">ğŸ˜„ è¶…å¼€å¿ƒ</div>
                </div>
                <div class="diary-entry">
                    <div class="diary-date">2024-10-24</div>
                    <div class="diary-content">ä¸ºçŒ«å’ªåšäº†ä¸€ä¸ªæ¸©æš–çš„å°çªï¼Œå®ƒèœ·ç¼©åœ¨é‡Œé¢ç¡å¾—å¾ˆé¦™ç”œã€‚</div>
                    <div class="diary-mood">ğŸ˜Š å¿ƒæƒ…ä¸é”™</div>
                </div>
                <div class="diary-entry">
                    <div class="diary-date">2024-10-23</div>
                    <div class="diary-content">ä»Šå¤©æŠšæ‘¸äº†çŒ«å’ªï¼Œå®ƒå‘å‡ºäº†æ»¡è¶³çš„å‘¼å™œå£°ï¼Œç”Ÿæ´»å°±è¯¥å¦‚æ­¤ç®€å•ç¾å¥½ã€‚</div>
                    <div class="diary-mood">ğŸ˜ å¹¸ç¦æ»¡æ»¡</div>
                </div>
            </div>
            
            <button class="add-diary-btn" onclick="showAddDiaryModal()">â• æ·»åŠ æ–°æ—¥è®°</button>
        </div>

        <!-- 7. è®¾ç½®é¡µé¢ -->
        <div class="screen" id="settingsScreen">
            <button class="back-button" onclick="goToScreen('homeScreen')">â† è¿”å›é¦–é¡µ</button>
            
            <div class="title-section">è®¾ç½®</div>
            
            <div style="padding: 20px; display: flex; flex-direction: column; gap: 15px;">
                <div class="setting-item">
                    <span class="setting-label">
                        <span class="setting-icon">ğŸ”Š</span>
                        <span>éŸ³æ•ˆå¼€å…³</span>
                    </span>
                    <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span class="setting-label">
                        <span class="setting-icon">ğŸ””</span>
                        <span>é€šçŸ¥è®¾ç½®</span>
                    </span>
                    <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span class="setting-label">
                        <span class="setting-icon">â˜€ï¸</span>
                        <span>äº®åº¦è°ƒæ•´</span>
                    </span>
                    <select class="select-dropdown" onchange="changeBrightness(this.value)">
                        <option value="normal">æ ‡å‡†</option>
                        <option value="bright">æ˜äº®</option>
                        <option value="dark">æš—è‰²</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <span class="setting-label">
                        <span class="setting-icon">ğŸŒ</span>
                        <span>è¯­è¨€é€‰æ‹©</span>
                    </span>
                    <select class="select-dropdown" onchange="changeLanguage(this.value)">
                        <option value="zh">ä¸­æ–‡</option>
                        <option value="en">English</option>
                        <option value="ja">æ—¥æœ¬èª</option>
                    </select>
                </div>

                <div class="setting-item">
                    <span class="setting-label">
                        <span class="setting-icon">ğŸ’¾</span>
                        <span>å…³äº</span>
                    </span>
                    <button class="btn btn-secondary" style="padding: 8px 15px; font-size: 12px;" onclick="alert('ğŸ± å® ç‰©æ²»æ„ˆ v1.0\\n\\nä¸€æ¬¾æ²»æ„ˆç³»å® ç‰©äº’åŠ¨æ¸¸æˆ\\nç…§é¡¾è™šæ‹ŸçŒ«å’ªè·å¾—å¹¸ç¦æ„Ÿ\\n\\nÂ©2024 æ²»æ„ˆå·¥ä½œå®¤')">æŸ¥çœ‹</button>
                </div>
            </div>
        </div>

        <!-- 8. ç©è€åœºæ™¯ -->
        <div class="screen feedback-screen" id="playScreen">
            <button class="back-button" style="position: absolute; top: 20px; left: 20px;" onclick="goToScreen('homeScreen')">â† è¿”å›</button>
            
            <div class="feedback-emoji">ğŸ±</div>
            <div class="feedback-title">ç©è€ä¸­...</div>
            <div class="feedback-text">çŒ«å’ªç©å¾—è¶…å¼€å¿ƒ!</div>
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 24px;">
                <span>å¿«ä¹å€¼</span>
                <span class="arrow">â¬†ï¸</span>
            </div>
            <div class="value-increase">å¿«ä¹å€¼ UP UP UP</div>
            <button class="continue-btn" onclick="goToScreen('homeScreen'); updateStats(20, -5, 0);">ç»§ç»­</button>
        </div>

        <!-- 9. æŠšæ‘¸åœºæ™¯ -->
        <div class="screen feedback-screen" id="petScreen">
            <button class="back-button" style="position: absolute; top: 20px; left: 20px;" onclick="goToScreen('homeScreen')">â† è¿”å›</button>
            
            <div class="feedback-emoji">ğŸ˜»</div>
            <div class="feedback-title">è¢«æŠšæ‘¸å...</div>
            <div class="feedback-text">çŒ«å’ªæ„Ÿåˆ°å¾ˆå¹¸ç¦!</div>
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 24px;">
                <span>å¹¸ç¦æ„Ÿ</span>
                <span class="arrow">â¬†ï¸</span>
            </div>
            <div class="value-increase">å¹¸ç¦æ„Ÿ UP UP UP</div>
            <button class="continue-btn" onclick="goToScreen('homeScreen'); updateStats(25, 0, 0);">ç»§ç»­</button>
        </div>

        <!-- æŠ•å–‚æˆåŠŸåé¦ˆ -->
        <div class="screen feedback-screen" id="feedbackScreen">
            <button class="back-button" style="position: absolute; top: 20px; left: 20px;" onclick="goToScreen('homeScreen')">â† è¿”å›</button>
            
            <div class="feedback-emoji" id="feedbackEmoji">ğŸ˜¸</div>
            <div class="feedback-title" id="feedbackTitle">æŠ•å–‚æˆåŠŸ!</div>
            <div class="feedback-text" id="feedbackText">çŒ«å’ªåƒå¾—å¾ˆå¼€å¿ƒ!</div>
            <div style="display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 24px;">
                <span id="feedbackType">é¥±è…¹æ„Ÿ</span>
                <span class="arrow">â¬†ï¸</span>
            </div>
            <div class="value-increase" id="feedbackValue">+30</div>
            <button class="continue-btn" onclick="goToScreen('homeScreen');">ç»§ç»­</button>
        </div>
    </div>

    <!-- æ·»åŠ æ—¥è®°å¯¹è¯æ¡† -->
    <div class="modal" id="diaryModal">
        <div class="modal-content">
            <div class="modal-title">ğŸ“ æ·»åŠ æ–°æ—¥è®°</div>
            <textarea id="diaryInput" placeholder="è®°å½•ä»Šå¤©ä¸çŒ«å’ªçš„æ•…äº‹..." style="width: 100%; height: 100px; padding: 10px; border: 2px solid #FFB6D9; border-radius: 10px; font-family: inherit; font-size: 14px; resize: none; margin-bottom: 15px; font-weight: 500;"></textarea>
            <div style="display: flex; gap: 8px; margin-bottom: 15px; justify-content: center;">
                <span class="mood-selector" style="cursor: pointer; padding: 8px; border: 2px solid #FFD700; border-radius: 8px; background: #FFFACD; font-size: 20px;" onclick="selectMood('ğŸ˜Š')">ğŸ˜Š</span>
                <span class="mood-selector" style="cursor: pointer; padding: 8px; border: 2px solid #FFD700; border-radius: 8px; background: #FFFACD; font-size: 20px;" onclick="selectMood('ğŸ˜„')">ğŸ˜„</span>
                <span class="mood-selector" style="cursor: pointer; padding: 8px; border: 2px solid #FFD700; border-radius: 8px; background: #FFFACD; font-size: 20px;" onclick="selectMood('ğŸ˜')">ğŸ˜</span>
                <span class="mood-selector" style="cursor: pointer; padding: 8px; border: 2px solid #FFD700; border-radius: 8px; background: #FFFACD; font-size: 20px;" onclick="selectMood('ğŸ˜´')">ğŸ˜´</span>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="closeDiaryModal()">å–æ¶ˆ</button>
                <button class="modal-btn modal-btn-confirm" onclick="saveDiary()">ä¿å­˜</button>
            </div>
        </div>
    </div>

    <!-- æ•™ç¨‹å¯¹è¯æ¡† -->
    <div class="modal" id="tutorialModal">
        <div class="modal-content" style="max-width: 350px;">
            <div class="modal-title">ğŸ® æ¸¸æˆæ•™ç¨‹</div>
            <div class="modal-text" style="text-align: left; line-height: 1.8; color: #666;">
                <strong>ğŸ“Œ åŸºæœ¬ç©æ³•:</strong><br>
                1ï¸âƒ£ å–‚é£ŸçŒ«å’ªç»´æŒé¥±è…¹æ„Ÿ<br>
                2ï¸âƒ£ ä¸çŒ«å’ªç©è€å¢åŠ å¿«ä¹å€¼<br>
                3ï¸âƒ£ æŠšæ‘¸çŒ«å’ªæå‡å¹¸ç¦æ„Ÿ<br><br>
                
                <strong>ğŸ’¡ å°è´´å£«:</strong><br>
                â€¢ å®šæœŸäº’åŠ¨å¯è·å¾—æ›´å¤šå¥–åŠ±<br>
                â€¢ è®°å½•æ—¥è®°è·å¾—æ²»æ„ˆæ„Ÿ<br>
                â€¢ è§£é”æ•…äº‹è·å¾—æ–°å†…å®¹<br><br>
                
                <strong>ğŸ åŠŸèƒ½ä»‹ç»:</strong><br>
                â€¢ æ—¥å¸¸äº’åŠ¨: å¤šç§äº’åŠ¨é€‰é¡¹<br>
                â€¢ æ²»æ„ˆæ•…äº‹: æ¸©é¦¨æ„Ÿäººæ•…äº‹<br>
                â€¢ æ—¥è®°ç³»ç»Ÿ: è®°å½•ç¾å¥½æ—¶åˆ»<br>
                â€¢ è®¾ç½®: ä¸ªæ€§åŒ–ä½“éªŒ
            </div>
            <button class="modal-btn modal-btn-confirm" onclick="closeTutorialModal()" style="width: 100%; margin-top: 15px;">å¼€å§‹æ¸¸æˆ</button>
        </div>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            happiness: 70,
            hunger: 50,
            clean: 85,
            selectedFood: null,
            selectedMood: 'ğŸ˜Š'
        };

        // å¯¼èˆªåˆ°æŒ‡å®šå±å¹•
        function goToScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            window.scrollTo(0, 0);
        }

        // æ˜¾ç¤ºæ•™ç¨‹
        function showTutorial() {
            document.getElementById('tutorialModal').classList.add('active');
        }

        function closeTutorialModal() {
            document.getElementById('tutorialModal').classList.remove('active');
            goToScreen('homeScreen');
        }

        // é€‰æ‹©é£Ÿç‰©
        function selectFood(name, emoji) {
            gameState.selectedFood = { name, emoji };
            document.getElementById('feedBtn').style.display = 'block';
            document.querySelectorAll('.food-item').forEach(item => {
                item.style.opacity = '0.5';
            });
            event.target.closest('.food-item').style.opacity = '1';
        }

        // æ‰§è¡Œå–‚é£Ÿ
        function executeFeed() {
            if (gameState.selectedFood) {
                gameState.hunger = Math.min(100, gameState.hunger + 30);
                gameState.happiness = Math.min(100, gameState.happiness + 10);
                showFeedback(gameState.selectedFood.name, gameState.selectedFood.emoji, 'é¥±è…¹æ„Ÿ', '+30');
            }
        }

        // æ˜¾ç¤ºåé¦ˆ
        function showFeedback(title, emoji, type, value) {
            document.getElementById('feedbackTitle').innerText = title;
            document.getElementById('feedbackEmoji').innerText = emoji;
            document.getElementById('feedbackType').innerText = type;
            document.getElementById('feedbackValue').innerText = value;
            goToScreen('feedbackScreen');
        }

        // æ›´æ–°çŠ¶æ€æ¡
        function updateStats(happinessAdd = 0, hungerAdd = 0, cleanAdd = 0) {
            gameState.happiness = Math.min(100, gameState.happiness + happinessAdd);
            gameState.hunger = Math.min(100, gameState.hunger + hungerAdd);
            gameState.clean = Math.min(100, gameState.clean + cleanAdd);
            
            document.getElementById('happinessBar').style.width = gameState.happiness + '%';
            document.getElementById('hungerBar').style.width = gameState.hunger + '%';
            document.getElementById('cleanBar').style.width = gameState.clean + '%';
        }

        // æ—¥è®°åŠŸèƒ½
        function showAddDiaryModal() {
            document.getElementById('diaryModal').classList.add('active');
            document.getElementById('diaryInput').focus();
        }

        function closeDiaryModal() {
            document.getElementById('diaryModal').classList.remove('active');
            document.getElementById('diaryInput').value = '';
        }

        function selectMood(mood) {
            gameState.selectedMood = mood;
            document.querySelectorAll('.mood-selector').forEach(el => {
                el.style.borderColor = '#FFD700';
                el.style.background = '#FFFACD';
            });
            event.target.style.borderColor = '#FF69B4';
            event.target.style.background = '#FFE6F0';
        }

        function saveDiary() {
            const content = document.getElementById('diaryInput').value;
            if (content.trim()) {
                alert('æ—¥è®°å·²ä¿å­˜! ğŸ’');
                closeDiaryModal();
                updateStats(5, 0, 0);
            } else {
                alert('è¯·è¾“å…¥æ—¥è®°å†…å®¹');
            }
        }

        // è®¾ç½®åŠŸèƒ½
        function toggleSetting(element) {
            element.classList.toggle('active');
        }

        function changeBrightness(value) {
            const container = document.querySelector('.container');
            if (value === 'bright') {
                container.style.filter = 'brightness(1.2)';
            } else if (value === 'dark') {
                container.style.filter = 'brightness(0.8)';
            } else {
                container.style.filter = 'brightness(1)';
            }
        }

        function changeLanguage(value) {
            const langs = { zh: 'ä¸­æ–‡', en: 'English', ja: 'æ—¥æœ¬èª' };
            alert('å·²åˆ‡æ¢åˆ°: ' + langs[value]);
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        document.addEventListener('click', (e) => {
            if (e.target.id === 'diaryModal') closeDiaryModal();
            if (e.target.id === 'tutorialModal') closeTutorialModal();
        });

        // å®šæœŸé¥±è…¹æ„Ÿä¸‹é™
        setInterval(() => {
            gameState.hunger = Math.max(0, gameState.hunger - 1);
            if (document.getElementById('homeScreen').classList.contains('active')) {
                document.getElementById('hungerBar').style.width = gameState.hunger + '%';
            }
        }, 30000);
    </script>
</body>
</html>
